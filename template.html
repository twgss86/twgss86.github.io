<html>
<head>
  <meta charset="UTF-8">
</head>
<body>
<script src="./rollups/aes.js"></script>
<script>
function decrypt(id)
{
	let form = document.getElementById(id);
	let msg = "";
	let safe = form.elements['safe'].value;	
	var plaintext="";

	try 
	{
		var decryptedBytes = CryptoJS.AES.decrypt(atob(msg), safe);
		plaintext = plaintext + decryptedBytes.toString(CryptoJS.enc.Utf8);
	} 
	catch (e) 
	{
	}
	
	form.elements['out'].value = plaintext;
};
</script>

<form id="cipher">
Passcode:
<input id="safe" name="safe" type="password" size="10" maxsize="255">
<button type="button" onClick="decrypt('cipher');">Show Message â†“</button>
<p>
<label for="cipher">Message:</label><br>
<textarea id="out" name="out" rows="4" cols="50" size="65535" maxlength="65535"></textarea><br>
</form>
</body>
</html>